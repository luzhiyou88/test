<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta content="telephone=no,email=no" name="format-detection" />
    <meta name="Keywords" content="第二教室" />
    <meta name="Description" content="第二教室" />
    <meta name="author" content="yun.lu" />
    <meta http-equiv="Expires" CONTENT="-1" />
    <meta http-equiv="Cache-Control" CONTENT="no-cache" />
    <meta http-equiv="Pragma" CONTENT="no-cache" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
	<title>第二教室</title>
	<link rel="stylesheet" href="../css/style.css">
	<script src="../js/jquery-2.1.1.min.js"></script>
</head>
<body  onload="createCode()">
	<section class="login-bg">
		<article class="clearfix login-mes">
			<aside class="login-left">	
				<img src="../img/system/login-left.png" class="left-img" alt="">
			</aside>
			<aside class="login-right">
				<div class="tar mb25">
					<a class="text-gray  on" href="javascript:;">教学模式</a>
					<em class="ico"></em>
					<a class="text-gray" href="javascript:;">路演模式</a>
				</div>
 				<form action="#" id="login-form" class="login-details">
					<label class="ipt-tit">账&nbsp;&nbsp;号</label>
					<div class="ipt-box">
						<input type="text" class="ipt">
						<em class="clear-ico ico"></em>
					</div>
					<label class="ipt-tit">密&nbsp;&nbsp;码</label>
					<div class="ipt-box">
						<input type="password" class="ipt">
						<em class="clear-ico ico"></em>
					</div>
					<label class="ipt-tit">验证码</label>
					<div class="clearfix">
						<input type="text" class="ipt-code" maxlength="4"  id="code-ipt">
						<div class="code-img">
							<input type="text" class="ipt-img" id="code" onclick="createCode()" readonly="readonly">
							<em class="refresh-ico ico" id="refresh-btn"  onclick="createCode()"></em>
						</div>
					</div>
					<p class="clearfix">
						<input type="checkbox" id="check-p" class="check-ipt">
						<label for="check-p" class="rember-txt">记住密码</label>
						<a href="javascript:;" class="forget-txt">忘记密码</a>
					</p>
				</form>
				<!-- <div class="waiting-box hide">
					<em class="wait-ico"></em>
					<p class="tac mb20">别着急马上进入教室</p>
					<p class="tac mb22">50%</p>
				</div> -->
 				<button type="button" class="login-btn" onclick="validate()">登录</button>
 				<!-- <div class="progress-bar"></div> -->
			</aside>
		</article>
	</section>
	<script>
		$(function(){
			$("#login-form .clear-ico").click(function(){
				var _th = $(this);
       			var index=$("#login-form .clear-ico").index(this);
       			$("#login-form input").eq(index).val("");
			})
		})

		var code ;
		function createCode(){  
		     code = "";   
		     var codeLength = 4;
		     var checkCode = document.getElementById("code");   
		     var random = new Array(0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R',  
		     'S','T','U','V','W','X','Y','Z');//随机数  
		     for(var i = 0; i < codeLength; i++) {//循环操作  
		        var index = Math.floor(Math.random()*36);//取得随机数的索引（0~35）  
		        code += random[index];//根据索引取得随机数加到code上  
		    }  
		    checkCode.value = code;//把code值赋给验证码  
		}  
		//校验验证码  
		function validate(){  
		    var inputCode = document.getElementById("code-ipt").value.toUpperCase(); //取得输入的验证码并转化为大写        
		    if(inputCode.length <= 0) { //若输入的验证码长度为0  
		    	$("#code-ipt").addClass("error-tips").val("验证码不能为空 ！"); //则弹出请输入验证码  
		    }         
		    else if(inputCode != code ) { //若输入的验证码与产生的验证码不一致时  
		    	$("#code-ipt").addClass("error-tips").val("验证码错误!"); //则弹出验证码输入错误  
		        createCode();//刷新验证码  
		       // $("#code-ipt").val("");//清空文本框  
		    }         
		    else { //输入正确时  
		       window.location.href="waiting.html";
		    }
		    $("#code-ipt").focus(function(){
	    		$("#code-ipt").removeClass("error-tips").val("");
	    	})
		}  
	</script>
</body>
</html>